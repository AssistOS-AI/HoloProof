<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HoloProof Chat â€” Formal Reasoning Assistant</title>
  <meta name="description" content="Interactive chat interface for HoloProof, a hybrid AI system that combines formal methods with natural language interaction." />
  <link rel="icon" href="data:," />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">

    <!-- Header -->
    <header class="header">
      <h1>â¬¡ HoloProof</h1>
      <span class="tag">Server Runtime</span>
      <div class="quick-model">
        <label for="quickModelSelect">LLM</label>
        <select id="quickModelSelect" aria-label="LLM mode">
          <option value="llm-fast-default">Fast</option>
          <option value="llm-deep-default">Deep</option>
        </select>
      </div>
      <div class="quick-model">
        <label for="responseStyleSelect">Style</label>
        <select id="responseStyleSelect" aria-label="Answer style">
          <option value="neutral">Neutral</option>
          <option value="legal">Legal</option>
          <option value="business">Business</option>
          <option value="casual">Casual</option>
        </select>
      </div>
      <span class="llm-status" id="llmStatus">LLM: ready</span>
      <div class="world-info" id="worldInfo">
        <span id="sessionInfo">session: -</span> Â· <span id="worldInfoText">world: -</span>
      </div>
    </header>

    <!-- Sidebar: Strategy Selector -->
    <aside class="sidebar">
      <div>
        <h2>Strategy Configuration</h2>
      </div>

      <div class="strategy-group">
        <label>
          SMT Solver
          <select id="strategy-smtStrategy"></select>
        </label>
      </div>

      <div class="strategy-group">
        <label>
          Intuition Strategy
          <select id="strategy-intuitionStrategy"></select>
        </label>
      </div>

      <div class="strategy-group">
        <label>
          VSA Representation
          <select id="strategy-vsaRepresentation"></select>
        </label>
      </div>

      <div class="strategy-group">
        <label>
          LLM Profile
          <select id="strategy-llmProfile"></select>
        </label>
      </div>

      <div class="sidebar-divider"></div>

      <button class="sidebar-btn" id="resetBtn">
        ğŸ”„ New Session
      </button>

      <button class="sidebar-btn" id="saveSessionBtn">
        ğŸ’¾ Save Session
      </button>

      <div class="strategy-group">
        <label>
          Saved Sessions
          <select id="savedSessionSelect">
            <option value="">No saved snapshots</option>
          </select>
        </label>
      </div>

      <button class="sidebar-btn" id="loadSessionBtn">
        ğŸ“‚ Load Selected Snapshot
      </button>
    </aside>

    <!-- Main content area -->
    <section class="main">

      <!-- Tabs -->
      <nav class="tabs">
        <button class="tab-btn active" data-tab="chat">ğŸ’¬ Chat</button>
        <button class="tab-btn" data-tab="examples">ğŸ“ Examples</button>
      </nav>

      <!-- Chat tab -->
      <div class="tab-panel active" id="tab-chat">
        <div class="chat-messages" id="chatMessages"></div>
        <div class="chat-input-area">
          <input type="text" id="chatInput" placeholder="Ask a question about the loaded knowledgeâ€¦" autocomplete="off" />
          <button id="stopBtn" class="stop-btn" disabled>Stop</button>
          <button id="sendBtn">Send</button>
        </div>
      </div>

      <!-- Examples tab -->
      <div class="tab-panel" id="tab-examples">
        <div class="examples-header">
          <h2>Examples (Knowledge + Question + Expected Result)</h2>
          <p>Each card is end-to-end: it loads the needed knowledge into this world, posts the question in chat, then runs formal reasoning.</p>
        </div>
        <div class="examples-grid" id="examplesGrid"></div>
      </div>

    </section>
  </div>

  <div class="tech-modal" id="techModal" aria-hidden="true">
    <div class="tech-modal-card">
      <div class="tech-modal-header">
        <h3>Technical Details</h3>
        <button id="techModalClose" class="icon-btn" title="Close">âœ•</button>
      </div>
      <pre id="techModalPre"></pre>
      <div class="tech-modal-footer">
        <button id="techModalDismiss" class="sidebar-btn">Close</button>
      </div>
    </div>
  </div>

  <script type="module" src="app.mjs"></script>
</body>
</html>
